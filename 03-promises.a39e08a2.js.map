{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAU,CACfC,QAAS,KA4BV,SAASC,EAAcC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC5B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACNH,EAEHF,EAAQ,C,SAAEH,E,MAAUC,IAGpBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE1BA,EAAM,G,CApCXP,EAAKe,iBAAiB,UAEtB,SAA2BC,GAC1Bf,SAASC,cAAc,uBAAuBe,UAAW,EACzDD,EAAME,iBACN,MAAQX,MAAAY,EAAKC,KAAEA,EAAIC,OAAEA,GAAWL,EAAMM,cAAcC,SACpD,IAAIC,EAAe,EACnBV,YAAW,KACVb,SAASC,cAAc,uBAAuBe,UAAW,CAAK,GAE9Dd,EAAQC,QAAUqB,OAAON,EAAMO,OAASD,OAAOL,EAAKM,OAASD,OAAOJ,EAAOK,OAAS,GACrF,IAAK,IAAIC,EAAI,EAAGA,GAAKN,EAAOK,MAAOC,IAClCH,EAAeC,OAAON,EAAMO,OAASD,OAAOL,EAAKM,OAASC,EAE1DtB,EAAcsB,EAAGH,GACfI,MAAK,EAACtB,SAAEA,EAAQC,MAAEA,MAClBT,EAAA+B,OAAOC,QAAQ,uBAAqBxB,QAAiBC,MAAWJ,EAAE,IAElE4B,OAAM,EAACzB,SAAEA,EAAQC,MAAEA,MACnBT,EAAA+B,OAAOG,QAAQ,sBAAoB1B,QAAiBC,MAAWJ,EAAE,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst options = {\n\ttimeout: 5000,\n};\n\nform.addEventListener('submit', callCreatePromise);\n\nfunction callCreatePromise(event) {\n\tdocument.querySelector('button[type=submit]').disabled = true;\n\tevent.preventDefault();\n\tconst { delay, step, amount } = event.currentTarget.elements;\n\tlet promiseDelay = 0;\n\tsetTimeout(() => {\n\t\tdocument.querySelector('button[type=submit]').disabled = false;\n\t},\n\t\toptions.timeout + Number(delay.value) + Number(step.value) * Number(amount.value) + 1);\n\tfor (let i = 1; i <= amount.value; i++) {\n\t\tpromiseDelay = Number(delay.value) + Number(step.value) * i;\n\n\t\tcreatePromise(i, promiseDelay)\n\t\t\t.then(({ position, delay }) => {\n\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`, options);\n\t\t\t})\n\t\t\t.catch(({ position, delay }) => {\n\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`, options);\n\t\t\t})\n\t}\n\t// тут можна застосувати: event.currentTarget.reset(); Тоді не потрібно 11 і 15 рядки\n}\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst shouldResolve = Math.random() > 0.3;\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\t// Fulfill\n\t\t\t\tresolve({ position, delay })\n\t\t\t} else {\n\t\t\t\t// Reject\n\t\t\t\treject({ position, delay })\n\t\t\t}\n\t\t}, delay)\n\t})\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$options","timeout","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","event","disabled","preventDefault","delay1","step","amount","currentTarget","elements","promiseDelay","Number","value","i","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.a39e08a2.js.map"}
{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAU,CACfC,QAAS,KA4BV,SAASC,EAAcC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACNH,EAEHF,EAAQ,CAAEH,WAAUC,UAGpBG,EAAO,CAAEJ,WAAUC,S,GAElBA,E,IApCLP,EAAKe,iBAAiB,UAEtB,SAA2BC,GAC1Bf,SAASC,cAAc,uBAAuBe,UAAW,EACzDD,EAAME,iBACN,IAAgCC,EAAAH,EAAMI,cAAcC,SAA5CC,EAAwBH,EAAxBZ,MAAOgB,EAAiBJ,EAAjBI,KAAMC,EAAWL,EAAXK,OACjBC,EAAe,EACnBX,YAAW,WACVb,SAASC,cAAc,uBAAuBe,UAAW,C,GAEzDd,EAAQC,QAAUsB,OAAOJ,EAAMK,OAASD,OAAOH,EAAKI,OAASD,OAAOF,EAAOG,OAAS,GACrF,IAAK,IAAIC,EAAI,EAAGA,GAAKJ,EAAOG,MAAOC,IAClCH,EAAeC,OAAOJ,EAAMK,OAASD,OAAOH,EAAKI,OAASC,EAE1DvB,EAAcuB,EAAGH,GACfI,MAAK,SAAAC,G,IAAGxB,EAAQwB,EAARxB,SAAUC,EAAKuB,EAALvB,MAClBT,EAAAiC,OAAOC,QAAQ,uBAAwCC,OAAf3B,EAAS,QAAY2B,OAAN1B,EAAM,MAAKJ,E,IAElE+B,OAAM,SAAAJ,G,IAAGxB,EAAQwB,EAARxB,SAAUC,EAAKuB,EAALvB,MACnBT,EAAAiC,OAAOI,QAAQ,sBAAuCF,OAAf3B,EAAS,QAAY2B,OAAN1B,EAAM,MAAKJ,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst options = {\n\ttimeout: 5000,\n};\n\nform.addEventListener('submit', callCreatePromise);\n\nfunction callCreatePromise(event) {\n\tdocument.querySelector('button[type=submit]').disabled = true;\n\tevent.preventDefault();\n\tconst { delay, step, amount } = event.currentTarget.elements;\n\tlet promiseDelay = 0;\n\tsetTimeout(() => {\n\t\tdocument.querySelector('button[type=submit]').disabled = false;\n\t},\n\t\toptions.timeout + Number(delay.value) + Number(step.value) * Number(amount.value) + 1);\n\tfor (let i = 1; i <= amount.value; i++) {\n\t\tpromiseDelay = Number(delay.value) + Number(step.value) * i;\n\n\t\tcreatePromise(i, promiseDelay)\n\t\t\t.then(({ position, delay }) => {\n\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`, options);\n\t\t\t})\n\t\t\t.catch(({ position, delay }) => {\n\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`, options);\n\t\t\t})\n\t}\n\t// тут можна застосувати: event.currentTarget.reset(); Тоді не потрібно 11 і 15 рядки\n}\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst shouldResolve = Math.random() > 0.3;\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\t// Fulfill\n\t\t\t\tresolve({ position, delay })\n\t\t\t} else {\n\t\t\t\t// Reject\n\t\t\t\treject({ position, delay })\n\t\t\t}\n\t\t}, delay)\n\t})\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$options","timeout","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","event","disabled","preventDefault","_elements","currentTarget","elements","delay1","step","amount","promiseDelay","Number","value","i","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.f87f398b.js.map"}